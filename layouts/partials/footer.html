<section id="footer" class="footer max-body-width">
  {{ $copyright := .Site.Copyright }}
  {{ if not $copyright }}
    {{ $copyright = .Site.Title }}
  {{ end }}
  <p><span>{{ $copyright }}</span></p>
  <p>
    <span>Powered by</span>
    <a href="https://gohugo.io">Hugo</a>
    <span>and the</span>
    <a href="https://github.com/cntrump/hugo-notepadium">Notepadium</a>
  </p>
</section>

{{ with .Site.Params.MathJax.enable }}
  {{ if eq . true }}
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script>
  {{ end }}
{{ end }}

{{ with .Site.Params.syntax }}
  {{ $use := "none" }}
  {{ $theme := "darcula" }}
  {{ if isset . "use" }}{{ $use = .use }}{{ end }}
  {{ if isset . "theme" }}{{ $theme = .theme }}{{ end }}

  {{ $syntaxCSS := "" }}
  {{ if eq $use "hljs" }}
    {{ $syntaxCSS = print (path.Join "css/hljs/" $theme) ".css" }}
  {{ else if eq $use "prismjs" }}
    {{ $syntaxCSS = print (path.Join "css/prism/" $theme) ".css" }}
  {{ end }}

  {{ $syntaxJS := "" }}
  {{ if eq $use "hljs" }}
    {{ $syntaxJS = "js/hljs.js" }}
  {{ else if eq $use "prismjs" }}
    {{ $syntaxJS = "js/prism.js" }}
  {{ end }}

  {{ if and (ne $syntaxCSS "") (ne $syntaxJS "") }}
    {{ $css := resources.Get $syntaxCSS | resources.Minify | resources.Fingerprint "sha384" }}
    <link rel="stylesheet" href="{{ $css.RelPermalink }}" integrity="{{ $css.Data.Integrity }}">
    {{ $js := resources.Get $syntaxJS | resources.Minify | resources.Fingerprint "sha384" }}
    <script src="{{ $js.RelPermalink }}" integrity="{{ $js.Data.Integrity }}"></script>
    {{ if eq $use "hljs" }}
    <script>hljs.initHighlightingOnLoad();</script>
    {{ end }}
  {{ end }}
{{ end }}